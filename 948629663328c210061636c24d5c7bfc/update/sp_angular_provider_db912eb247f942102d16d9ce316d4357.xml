<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_angular_provider">
    <sp_angular_provider action="INSERT_OR_UPDATE">
        <name>ipsValidator</name>
        <script><![CDATA[function ipsValidator($rootScope, spUtil, $http) {

    /**
     *
     */
    this.validate = async function (value, field, validations) {

        var validation = await this.validateField(
            field,
            value,
            validations
        );

        if (validation.message) {
            // _.debounce(function () {

            // 	spUtil.addErrorMessage(validation.message);
            // }, 500);
            return validation.errors[field][0];
        }

        return '';
    }



    this.validateField = async function (field, value, validations) {
        try {
            var res = await $http({
                url: '/api/rusc/ipsevaluaciones/validate-fields',
                method: 'POST',
                data: {
                    field: field,
                    value: value,
                    validations: validations
                },
                headers: {
                    "Content-Type": "application/json"
                }
            });
            return res.data.result;
        } catch (e) {
            spUtil.addErrorMessage(e);
        }
    }

}]]></script>
        <sys_class_name>sp_angular_provider</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-04-30 05:07:43</sys_created_on>
        <sys_id>db912eb247f942102d16d9ce316d4357</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>ipsValidator</sys_name>
        <sys_package display_value="IPS Performance Assessments" source="x_ipsu2_ips_perfor">948629663328c210061636c24d5c7bfc</sys_package>
        <sys_policy/>
        <sys_scope display_value="IPS Performance Assessments">948629663328c210061636c24d5c7bfc</sys_scope>
        <sys_update_name>sp_angular_provider_db912eb247f942102d16d9ce316d4357</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-04-30 05:07:52</sys_updated_on>
        <type>directive</type>
    </sp_angular_provider>
</record_update>
